(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{9053:function(e,s,l){Promise.resolve().then(l.bind(l,7340))},7340:function(e,s,l){"use strict";l.r(s),l.d(s,{default:function(){return i}});var t=l(7437),r=l(2265);function a(e){return e.split(/\r?\n/).map(e=>e.trim()).filter(Boolean)}function i(){let[e,s]=(0,r.useState)({teacher_name:"",subject:"",grade:"",week:"",lesson_title:"",objectives:"",materials:"",steps:"",assessment:"",homework:""}),[l,i]=(0,r.useState)({}),[n,c]=(0,r.useState)(!1);async function d(s){if(s.preventDefault(),function(){let s={};return e.teacher_name.trim()||(s.teacher_name="مطلوب"),e.subject.trim()||(s.subject="مطلوب"),e.grade.trim()||(s.grade="مطلوب"),e.week.trim()||(s.week="مطلوب"),e.lesson_title.trim()||(s.lesson_title="مطلوب"),e.objectives.trim()||(s.objectives="مطلوب"),e.steps.trim()||(s.steps="مطلوب"),i(s),0===Object.keys(s).length}()){c(!0);try{let s={teacher_name:e.teacher_name.trim(),subject:e.subject.trim(),grade:e.grade.trim(),week:e.week.trim(),lesson_title:e.lesson_title.trim(),objectives:a(e.objectives),materials:a(e.materials),steps:a(e.steps),assessment:e.assessment.trim(),homework:e.homework.trim()},l=await fetch("/api/generate-docx",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!l.ok){let e=await l.text();throw Error(e||"فشل إنشاء الملف")}let t=await l.blob(),r=URL.createObjectURL(t),i=document.createElement("a");i.href=r,i.download="خطة_".concat(s.subject,"_").concat(s.lesson_title,".docx"),document.body.appendChild(i),i.click(),i.remove(),URL.revokeObjectURL(r)}catch(e){alert((null==e?void 0:e.message)||"حدث خطأ غير متوقع")}finally{c(!1)}}}function o(l){return{value:e[l],onChange:e=>s(s=>({...s,[l]:e.target.value}))}}return(0,t.jsx)("div",{className:"container",children:(0,t.jsxs)("div",{className:"card",children:[(0,t.jsx)("h1",{children:"مولّد خطة الدرس (DOCX)"}),(0,t.jsx)("p",{className:"muted",children:"املأ الحقول التالية، وسيتم إنشاء ملف DOCX وفق قالب الوزارة."}),(0,t.jsxs)("form",{onSubmit:d,className:"form-grid",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{children:"اسم المعلم"}),(0,t.jsx)("input",{placeholder:"مثال: أ. أحمد",...o("teacher_name")}),l.teacher_name&&(0,t.jsx)("div",{className:"error",children:l.teacher_name})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{children:"المادة"}),(0,t.jsx)("input",{placeholder:"مثال: الرياضيات",...o("subject")}),l.subject&&(0,t.jsx)("div",{className:"error",children:l.subject})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{children:"الصف/المرحلة"}),(0,t.jsx)("input",{placeholder:"مثال: الصف السادس",...o("grade")}),l.grade&&(0,t.jsx)("div",{className:"error",children:l.grade})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{children:"الأسبوع"}),(0,t.jsx)("input",{placeholder:"مثال: الأسبوع الثالث",...o("week")}),l.week&&(0,t.jsx)("div",{className:"error",children:l.week})]}),(0,t.jsxs)("div",{className:"full",children:[(0,t.jsx)("label",{children:"عنوان الدرس"}),(0,t.jsx)("input",{placeholder:"مثال: الكسور العشرية",...o("lesson_title")}),l.lesson_title&&(0,t.jsx)("div",{className:"error",children:l.lesson_title})]}),(0,t.jsxs)("div",{className:"full",children:[(0,t.jsx)("label",{children:"الأهداف (سطر لكل هدف)"}),(0,t.jsx)("textarea",{rows:4,placeholder:"مثال:\n- يعرّف مفهوم الكسور العشرية\n- يحوّل بين الكسر العادي والعشري",...o("objectives")}),l.objectives&&(0,t.jsx)("div",{className:"error",children:l.objectives})]}),(0,t.jsxs)("div",{className:"full",children:[(0,t.jsx)("label",{children:"المواد/الوسائل (سطر لكل عنصر)"}),(0,t.jsx)("textarea",{rows:3,placeholder:"مثال:\n- كتاب الطالب\n- سبورة ذكية",...o("materials")})]}),(0,t.jsxs)("div",{className:"full",children:[(0,t.jsx)("label",{children:"خطوات الدرس (سطر لكل خطوة)"}),(0,t.jsx)("textarea",{rows:5,placeholder:"مثال:\n- تمهيد ونشاط افتتاحي\n- شرح المفهوم\n- تدريب جماعي\n- تطبيق فردي",...o("steps")}),l.steps&&(0,t.jsx)("div",{className:"error",children:l.steps})]}),(0,t.jsxs)("div",{className:"full",children:[(0,t.jsx)("label",{children:"أساليب التقويم"}),(0,t.jsx)("textarea",{rows:3,placeholder:"مثال: أسئلة شفهية، ورقة عمل",...o("assessment")})]}),(0,t.jsxs)("div",{className:"full",children:[(0,t.jsx)("label",{children:"الواجب المنزلي"}),(0,t.jsx)("textarea",{rows:3,placeholder:"مثال: حل التمارين 3-5 صفحة 21",...o("homework")})]}),(0,t.jsxs)("div",{className:"full actions",children:[(0,t.jsx)("button",{type:"submit",className:"primary",disabled:n,children:n?"جاري الإنشاء...":"إنشاء ملف DOCX"}),(0,t.jsx)("span",{className:"small",children:"لن يتم حفظ أي بيانات على الخادم."})]})]})]})})}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=9053)}),_N_E=e.O()}]);