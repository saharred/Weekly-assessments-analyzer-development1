(()=>{var e={};e.id=931,e.ids=[931],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1757:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>h,originalPathname:()=>m,pages:()=>d,routeModule:()=>p,tree:()=>c}),t(908),t(1506),t(5866);var r=t(3191),a=t(8716),l=t(7922),i=t.n(l),n=t(5231),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);t.d(s,o);let c=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,908)),"/workspace/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,1506)),"/workspace/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/workspace/app/page.tsx"],m="/page",h={require:t,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},4813:()=>{},3043:(e,s,t)=>{Promise.resolve().then(t.bind(t,8743))},1251:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,2994,23)),Promise.resolve().then(t.t.bind(t,6114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,9671,23)),Promise.resolve().then(t.t.bind(t,1868,23)),Promise.resolve().then(t.t.bind(t,4759,23))},8743:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>i});var r=t(326),a=t(7577);function l(e){return e.split(/\r?\n/).map(e=>e.trim()).filter(Boolean)}function i(){let[e,s]=(0,a.useState)({teacher_name:"",subject:"",grade:"",week:"",lesson_title:"",objectives:"",materials:"",steps:"",assessment:"",homework:""}),[t,i]=(0,a.useState)({}),[n,o]=(0,a.useState)(!1);async function c(s){if(s.preventDefault(),function(){let s={};return e.teacher_name.trim()||(s.teacher_name="مطلوب"),e.subject.trim()||(s.subject="مطلوب"),e.grade.trim()||(s.grade="مطلوب"),e.week.trim()||(s.week="مطلوب"),e.lesson_title.trim()||(s.lesson_title="مطلوب"),e.objectives.trim()||(s.objectives="مطلوب"),e.steps.trim()||(s.steps="مطلوب"),i(s),0===Object.keys(s).length}()){o(!0);try{let s={teacher_name:e.teacher_name.trim(),subject:e.subject.trim(),grade:e.grade.trim(),week:e.week.trim(),lesson_title:e.lesson_title.trim(),objectives:l(e.objectives),materials:l(e.materials),steps:l(e.steps),assessment:e.assessment.trim(),homework:e.homework.trim()},t=await fetch("/api/generate-docx",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!t.ok){let e=await t.text();throw Error(e||"فشل إنشاء الملف")}let r=await t.blob(),a=URL.createObjectURL(r),i=document.createElement("a");i.href=a,i.download=`خطة_${s.subject}_${s.lesson_title}.docx`,document.body.appendChild(i),i.click(),i.remove(),URL.revokeObjectURL(a)}catch(e){alert(e?.message||"حدث خطأ غير متوقع")}finally{o(!1)}}}function d(t){return{value:e[t],onChange:e=>s(s=>({...s,[t]:e.target.value}))}}return r.jsx("div",{className:"container",children:(0,r.jsxs)("div",{className:"card",children:[r.jsx("h1",{children:"مولّد خطة الدرس (DOCX)"}),r.jsx("p",{className:"muted",children:"املأ الحقول التالية، وسيتم إنشاء ملف DOCX وفق قالب الوزارة."}),(0,r.jsxs)("form",{onSubmit:c,className:"form-grid",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{children:"اسم المعلم"}),r.jsx("input",{placeholder:"مثال: أ. أحمد",...d("teacher_name")}),t.teacher_name&&r.jsx("div",{className:"error",children:t.teacher_name})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{children:"المادة"}),r.jsx("input",{placeholder:"مثال: الرياضيات",...d("subject")}),t.subject&&r.jsx("div",{className:"error",children:t.subject})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{children:"الصف/المرحلة"}),r.jsx("input",{placeholder:"مثال: الصف السادس",...d("grade")}),t.grade&&r.jsx("div",{className:"error",children:t.grade})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{children:"الأسبوع"}),r.jsx("input",{placeholder:"مثال: الأسبوع الثالث",...d("week")}),t.week&&r.jsx("div",{className:"error",children:t.week})]}),(0,r.jsxs)("div",{className:"full",children:[r.jsx("label",{children:"عنوان الدرس"}),r.jsx("input",{placeholder:"مثال: الكسور العشرية",...d("lesson_title")}),t.lesson_title&&r.jsx("div",{className:"error",children:t.lesson_title})]}),(0,r.jsxs)("div",{className:"full",children:[r.jsx("label",{children:"الأهداف (سطر لكل هدف)"}),r.jsx("textarea",{rows:4,placeholder:"مثال:\n- يعرّف مفهوم الكسور العشرية\n- يحوّل بين الكسر العادي والعشري",...d("objectives")}),t.objectives&&r.jsx("div",{className:"error",children:t.objectives})]}),(0,r.jsxs)("div",{className:"full",children:[r.jsx("label",{children:"المواد/الوسائل (سطر لكل عنصر)"}),r.jsx("textarea",{rows:3,placeholder:"مثال:\n- كتاب الطالب\n- سبورة ذكية",...d("materials")})]}),(0,r.jsxs)("div",{className:"full",children:[r.jsx("label",{children:"خطوات الدرس (سطر لكل خطوة)"}),r.jsx("textarea",{rows:5,placeholder:"مثال:\n- تمهيد ونشاط افتتاحي\n- شرح المفهوم\n- تدريب جماعي\n- تطبيق فردي",...d("steps")}),t.steps&&r.jsx("div",{className:"error",children:t.steps})]}),(0,r.jsxs)("div",{className:"full",children:[r.jsx("label",{children:"أساليب التقويم"}),r.jsx("textarea",{rows:3,placeholder:"مثال: أسئلة شفهية، ورقة عمل",...d("assessment")})]}),(0,r.jsxs)("div",{className:"full",children:[r.jsx("label",{children:"الواجب المنزلي"}),r.jsx("textarea",{rows:3,placeholder:"مثال: حل التمارين 3-5 صفحة 21",...d("homework")})]}),(0,r.jsxs)("div",{className:"full actions",children:[r.jsx("button",{type:"submit",className:"primary",disabled:n,children:n?"جاري الإنشاء...":"إنشاء ملف DOCX"}),r.jsx("span",{className:"small",children:"لن يتم حفظ أي بيانات على الخادم."})]})]})]})})}},1506:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>l,metadata:()=>a});var r=t(9510);t(7272);let a={title:"مولّد خطة الدرس - DOCX",description:"إنشاء خطة درس وفق قالب الوزارة بصيغة DOCX"};function l({children:e}){return r.jsx("html",{lang:"ar",dir:"rtl",children:r.jsx("body",{children:e})})}},908:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(8570).createProxy)(String.raw`/workspace/app/page.tsx#default`)},7272:()=>{}};var s=require("../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[948,471],()=>t(1757));module.exports=r})();